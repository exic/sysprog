test: $(OBJS)
	if [ -d tests ]; then cd tests && make; fi

clean:
	find -name '*.o' -or -name '*.a' -or -name 'test-exec' | xargs rm -f
	rm -f $(EXE) $(OBJS) $(OUT) $(OUTLIB)
	if [ -d tests ]; then cd tests && make clean; fi

%.o: %.cpp
	echo CC $<
	${CXX} -c ${CXXFLAGS} $<

$(OUTLIB): $(OBJS)
	$(AR) $(ARFLAGS) rv $(OUTLIB) $?
	$(RANLIB) $(OUTLIB)

# vim: set filetype=make : #
